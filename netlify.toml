
[build]
  # Use a stable, proven build flow for a Vite app located in `frontend/`.
  # We use `npm install` (not `npm ci`) to avoid requiring lockfile provenance
  # in fresh setups; Netlify will run this in a Linux environment.
  command = "npm install --prefix frontend && npm run build --prefix frontend"
  publish = "frontend/dist"

[build.environment]
  # Pin Node to Netlify's Node 20 runtime for Vite compatibility.
  NODE_VERSION = "20"

[dev]
  framework = "vite"
